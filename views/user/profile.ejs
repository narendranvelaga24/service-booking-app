<section id="user-profile-page">
    <h2>My Profile</h2>

    <div class="profile-details">
        <h3>Account Information</h3>
        <p><strong>Name:</strong> <%= userProfile.name %></p>
        <p><strong>Email:</strong> <%= userProfile.email %></p>
        <p><strong>Address:</strong> <%= userProfile.address || 'Not provided' %></p>
        <p><strong>Phone Number:</strong> <%= userProfile.phone_number || 'Not provided' %></p>
        <p><em>Member Since: <%= new Date(userProfile.created_at).toLocaleDateString() %></em></p>
    </div>

    <hr style="margin: 20px 0;">

    <h3>Update Your Information</h3>
    <form action="/user/profile" method="POST" id="updateProfileForm">
        <div class="form-group">
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" value="<%= formData.name %>" required>
            <% if (typeof errors !== 'undefined' && errors.name) { %><small class="error-text"><%= errors.name %></small><% } %>
        </div>
        <div class="form-group">
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" value="<%= formData.email %>" required>
            <% if (typeof errors !== 'undefined' && errors.email) { %><small class="error-text"><%= errors.email %></small><% } %>
        </div>
        <div class="form-group">
            <label for="address">Address:</label>
            <textarea id="address" name="address" rows="3"><%= formData.address || '' %></textarea>
        </div>
        <div class="form-group">
            <label for="phone_number">Phone Number:</label>
            <input type="tel" id="phone_number" name="phone_number" value="<%= formData.phone_number || '' %>">
        </div>
        
        <% if (typeof errors !== 'undefined' && errors.general) { %>
            <div class="alert alert-danger"><%= errors.general %></div>
        <% } %>

        <button type="submit" class="btn">Update Profile</button>
    </form>

    <div style="margin-top: 20px;">
        <a href="/bookings/my-bookings" class="btn btn-secondary">View My Bookings</a>
        <!-- <a href="/user/profile/change-password" class="btn btn-outline" style="margin-left:10px;">Change Password</a> -->
    </div>
</section>

<style>
    .profile-details p {
        margin: 8px 0;
        font-size: 1.1em;
    }
    .profile-details strong {
        color: #333;
    }
    .profile-details em {
        font-size: 0.9em;
        color: #666;
    }
</style>
